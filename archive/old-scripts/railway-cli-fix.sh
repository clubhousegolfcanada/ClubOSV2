#!/bin/bash
# Railway CLI Database Fix

echo "ðŸš‚ Railway CLI Database Fix"
echo "=========================="
echo ""
echo "Step 1: Install Railway CLI (if not already installed)"
echo "------------------------------------------------------"
echo "brew install railway"
echo ""
echo "Step 2: Login to Railway"
echo "-----------------------"
echo "railway login"
echo ""
echo "Step 3: Link to your project"
echo "---------------------------"
echo "cd /Users/michaelbelairch1/Desktop/Clubhouse\ OS\ \(Root\)/CLUBOSV1"
echo "railway link"
echo "# Select your ClubOSV2 project when prompted"
echo ""
echo "Step 4: Run the database migration"
echo "---------------------------------"
echo 'railway run psql $DATABASE_URL -c "ALTER TABLE openphone_conversations ADD COLUMN IF NOT EXISTS conversation_id VARCHAR(255) UNIQUE;"'
echo ""
echo "That's it! The error should be fixed immediately."
echo ""
echo "To verify it worked:"
echo 'railway run psql $DATABASE_URL -c "\\d openphone_conversations"'
echo ""
echo "You should see the conversation_id column in the table structure."
