#!/bin/bash

echo "=========================================="
echo "RAILWAY CONFIGURATION CHECKLIST"
echo "=========================================="
echo ""
echo "Please verify in Railway dashboard:"
echo ""
echo "1. Environment Variables (Settings → Variables):"
echo "   ✓ USE_INTELLIGENT_SOP = true"
echo "   ✓ SOP_SHADOW_MODE = false"
echo "   ✓ SOP_CONFIDENCE_THRESHOLD = 0.30"
echo ""
echo "2. Recent Deployments (Deployments tab):"
echo "   - Check if latest deployment completed successfully"
echo "   - Look for any build errors"
echo "   - Verify deployment includes commit: 'feat: Complete intelligent search'"
echo ""
echo "3. Logs (View Logs):"
echo "   Look for these startup messages:"
echo "   - 'Intelligent SOP Module initialized'"
echo "   - 'SOP Module: Database connected'"
echo "   - Any errors mentioning 'intelligentSearch' or 'SOP'"
echo ""
echo "4. Try a Manual Redeploy:"
echo "   - Click 'Redeploy' on the latest deployment"
echo "   - This forces Railway to reload environment variables"
echo ""
echo "=========================================="
echo "QUICK FIX STEPS:"
echo "=========================================="
echo ""
echo "1. In Railway, go to your backend service"
echo "2. Click Settings → Variables"
echo "3. Verify/Add these variables:"
echo "   USE_INTELLIGENT_SOP=true"
echo "   SOP_SHADOW_MODE=false"
echo "4. Click 'Redeploy' button"
echo "5. Wait 2-3 minutes for deployment"
echo "6. Run: ./test-actual-data.sh"
echo ""
echo "The database HAS your data (we saw it in the screenshot)."
echo "Once Railway loads the right config, it will work!"