# Cloudflare Tunnel Configuration for UniFi Access
# Copy this file to .env and fill in your values

# ============================================
# CLOUDFLARE TUNNEL SETTINGS
# ============================================

# Enable Cloudflare tunnels (set to false to use direct/port forwarding)
UNIFI_USE_CLOUDFLARE=true

# Cloudflare Account Details
CLOUDFLARE_ACCOUNT_ID=your-account-id
CLOUDFLARE_API_TOKEN=your-api-token

# ============================================
# TUNNEL CONFIGURATION PER LOCATION
# ============================================

# Dartmouth Location
CLOUDFLARE_TUNNEL_DARTMOUTH_ID=dartmouth-tunnel-id
CLOUDFLARE_TUNNEL_DARTMOUTH_HOSTNAME=dartmouth-unifi.clubos.internal
UNIFI_DARTMOUTH_TOKEN=dartmouth-access-api-token

# Bedford Location
CLOUDFLARE_TUNNEL_BEDFORD_ID=bedford-tunnel-id
CLOUDFLARE_TUNNEL_BEDFORD_HOSTNAME=bedford-unifi.clubos.internal
UNIFI_BEDFORD_TOKEN=bedford-access-api-token

# Stratford Location (Future)
CLOUDFLARE_TUNNEL_STRATFORD_ID=stratford-tunnel-id
CLOUDFLARE_TUNNEL_STRATFORD_HOSTNAME=stratford-unifi.clubos.internal
UNIFI_STRATFORD_TOKEN=stratford-access-api-token

# Bayers Lake Location (Future)
CLOUDFLARE_TUNNEL_BAYERSLAKE_ID=bayerslake-tunnel-id
CLOUDFLARE_TUNNEL_BAYERSLAKE_HOSTNAME=bayerslake-unifi.clubos.internal
UNIFI_BAYERSLAKE_TOKEN=bayerslake-access-api-token

# Truro Location (Future)
CLOUDFLARE_TUNNEL_TRURO_ID=truro-tunnel-id
CLOUDFLARE_TUNNEL_TRURO_HOSTNAME=truro-unifi.clubos.internal
UNIFI_TRURO_TOKEN=truro-access-api-token

# ============================================
# FALLBACK DIRECT ACCESS (When Cloudflare is disabled)
# ============================================

# Direct host addresses (for port forwarding/VPN mode)
UNIFI_DARTMOUTH_HOST=dartmouth.example.com
UNIFI_BEDFORD_HOST=bedford.example.com
UNIFI_STRATFORD_HOST=stratford.example.com
UNIFI_BAYERSLAKE_HOST=bayerslake.example.com
UNIFI_TRURO_HOST=truro.example.com

# ============================================
# DOOR ACCESS SETTINGS
# ============================================

# Path to door configuration file
DOORS_CONFIG_PATH=./config/doors.json

# Enable door status caching (reduces API calls)
ENABLE_DOOR_CACHE=true

# Cache timeout in seconds
DOOR_CACHE_TTL=60

# Enable webhook notifications for door events
ENABLE_DOOR_WEBHOOKS=false
WEBHOOK_URL=https://your-webhook.com/door-events

# ============================================
# SECURITY SETTINGS
# ============================================

# Require authentication for all door operations
REQUIRE_DOOR_AUTH=true

# Log all door access attempts
LOG_DOOR_ACCESS=true

# Enable emergency override (allows bypass of normal restrictions)
ENABLE_EMERGENCY_OVERRIDE=true

# Rate limiting for door operations (unlocks per minute per user)
DOOR_UNLOCK_RATE_LIMIT=10

# ============================================
# MONITORING & ALERTS
# ============================================

# Enable health checks for tunnels
ENABLE_TUNNEL_HEALTH_CHECKS=true

# Health check interval in seconds
HEALTH_CHECK_INTERVAL=300

# Alert email for tunnel failures
ALERT_EMAIL=ops@example.com

# Slack webhook for alerts (optional)
SLACK_ALERT_WEBHOOK=https://hooks.slack.com/services/xxx